# 庄家管理系统 - 49选7特码

基于 Cloudflare Pages + Workers + D1 的专业庄家投注管理后台系统

## 🎯 快速开始

**直接打开 `public/index.html` 查看完整效果！**

当前使用模拟数据，无需后端即可体验所有功能。

## ✨ 系统特点

### 📊 高级风险分析
- **号码热力图**：7x7 网格，颜色分级显示风险等级
- **TOP 10 排行榜**：右侧柱状图，可切换投注额/赔付额显示
- **实时风险监控**：自动计算每个号码的投注额和潜在赔付
- **智能预警**：高风险号码红色脉冲闪烁
- **多维度分析**：大小、单双、尾数分布统计
- **玩法分布图**：可视化展示各玩法投注占比
- **详细数据表格**：可筛选、可查看详情

### 💼 投注管理
- **快速录入**：支持玩家标识、多种玩法
- **特码直投** (1赔47)
- **大小玩法** (大25-49, 小01-24, 赔率1.88)
- **单双玩法** (赔率1.88)
- **尾大尾小** (赔率1.88)
- **投注记录**：卡片式展示，支持删除

### 🎯 开奖结算
- **一键开奖**：输入号码自动结算
- **详细报表**：中奖笔数、总赔付、庄家盈亏
- **实时更新**：自动更新所有统计数据

### 🎨 现代化界面
- **暗黑主题**：专业的深色配色
- **侧边栏导航**：清晰的功能分区
- **响应式设计**：支持桌面和移动端
- **流畅动画**：悬停、点击、加载动画
- **弹窗详情**：点击号码查看详细订单

## 📁 文件结构

```
public/
├── index.html          # 主页面
├── app.js             # 应用逻辑（模拟数据）
└── style.css          # 样式文件

functions/api/
└── [[route]].js       # Cloudflare Workers API（生产环境）

migrations/
└── 0001_init.sql      # 数据库初始化（生产环境）
```

## 🚀 使用说明

### 查看演示
1. 打开 `public/index.html`
2. 点击侧边栏切换不同页面
3. 在热力图中点击号码查看详情
4. 切换柱状图显示投注额/赔付额
5. 使用筛选按钮查看不同风险等级的号码

### 部署到 Cloudflare

#### 1. 安装依赖
```bash
npm install
```

#### 2. 创建 D1 数据库
```bash
npm run db:create
```

#### 3. 运行数据库迁移
```bash
npm run db:migrate
```

#### 4. 本地开发
```bash
npm run dev
```

#### 5. 部署到生产环境
```bash
npm run db:migrate:prod
npm run deploy
```

## 💡 技术栈

- **前端**：原生 HTML/CSS/JavaScript
- **后端**：Cloudflare Workers
- **数据库**：Cloudflare D1 (SQLite)
- **框架**：Hono.js
- **部署**：Cloudflare Pages

## 📊 免费额度

- D1: 每天 100,000 次读取 + 50,000 次写入
- Workers: 每天 100,000 次请求
- Pages: 无限带宽
